<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W-Coin Game Console</title>
</head>
<style>
    *{
        margin: 0px;
        padding: 0px;
        box-sizing: border-box;
        text-decoration: none;
        list-style: none;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
    }
    main{
        height: 100vh;
        background-color: black;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }
    header{
        background-color: chocolate;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }
    .time{
        padding: 10px;
        font-size: 0.8em;
        background-color: honeydew;
        margin-top: 10px;
    }
    section{
        background-color: darkcyan;
        height: 500px;
        width: 500px;
        padding: 10px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items:center
    }
    .screen{
        width: 100%;
        background-color: blueviolet;
        height: 40%;
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .scr{
        height: 80%;
        width: 80%;
        background-color: chartreuse;
        display: flex;
        justify-content: center;
        align-items: center;
        letter-spacing: 5px;
        font-size: 4em;
    }
    .scr h4{
        
    }
    .word{
        width: 100%;
        background-color: khaki;
        height: 25%;
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .wrd{
        height: 90%;
        width: 90%;
        background-color: skyblue;
        display: flex;
        justify-content: center;
        align-items: center;
        letter-spacing: 5px;
        font-size: 1.7em;
    }
    .input{
        width: 300px;
        background-color: salmon;
        height: 35%;
        padding: 10px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .buttons{
        background-color: darkgreen;
        width: 100%;
        flex-grow: 1;
        display: flex;
        align-items: center;
        justify-content: space-around;
    }
    .btn1, .btn2, .btn3{
        color: black;
        padding: 3px;
        font-size: 1.3em;
    }
    footer{
        background-color: slateblue;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 10px;
    }
</style>
<body>
    <main>
        <header>
            <h3>W-Coin Game Console</h3>
            <div class="time">
                <p id="timeScr"><b>00</b>hrs : <b>00</b>mins : <b>00</b>secs</p>
            </div>
        </header>
        <br>
        <section>
            <article class="screen">
                <div class="scr">
                    <h4 class="w_coin">W</h4><h4 class="w_coin">-</h4><h4 class="w_coin">C</h4><h4 class="w_coin">O</h4><h4 class="w_coin">I</h4><h4 class="w_coin">N</h4>
                </div>
            </article>
            <article class="word">
                <div class="wrd">
                    <h5 id="scrShow"></h5>
                </div>
            </article>
            <article class="input">
                <div class="buttons">
                    <select style="display:none;" class="btn1">
                        <option selected disabled value="*">*</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="G">G</option>
                        <option value="H">H</option>
                        <option value="I">I</option>
                        <option value="J">J</option>
                        <option value="K">K</option>
                        <option value="L">L</option>
                        <option value="M">M</option>
                        <option value="N">N</option>
                        <option value="O">O</option>
                        <option value="P">P</option>
                        <option value="Q">Q</option>
                        <option value="R">R</option>
                        <option value="S">S</option>
                        <option value="T">T</option>
                        <option value="U">U</option>
                        <option value="V">V</option>
                        <option value="W">W</option>
                        <option value="X">X</option>
                        <option value="Y">Y</option>
                        <option value="Z">Z</option>
                    </select>
                    <select style="display:none;" class="btn2">
                        <option selected disabled value="*">*</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="G">G</option>
                        <option value="H">H</option>
                        <option value="I">I</option>
                        <option value="J">J</option>
                        <option value="K">K</option>
                        <option value="L">L</option>
                        <option value="M">M</option>
                        <option value="N">N</option>
                        <option value="O">O</option>
                        <option value="P">P</option>
                        <option value="Q">Q</option>
                        <option value="R">R</option>
                        <option value="S">S</option>
                        <option value="T">T</option>
                        <option value="U">U</option>
                        <option value="V">V</option>
                        <option value="W">W</option>
                        <option value="X">X</option>
                        <option value="Y">Y</option>
                        <option value="Z">Z</option>
                    </select>
                </div>
            </article>
        </section>
        <br>
        <footer>
            <p>Credits To W-Coin Team designed by Chibricase</p>
        </footer>
    </main>
    <script>
        const btn1 = document.querySelector(".btn1");
        const btn2 = document.querySelector(".btn2");
        const w_coin = document.querySelectorAll(".w_coin");
        const scrShow = document.querySelector('#scrShow');
        const timeScr = document.querySelector('#timeScr');
        const bothBooks = ['GENESIS','EXODUS','LEVITICUS','NUMBERS','DEUTERONOMY','JOSHUA','JUDGES','RUTH','SAMUEL','KINGS','CHRONICLES','EZRA','NEHEMIAH','ESTHER','JOB','PSALM','PROVERBS','ECCLESIASTES','ISAIAH','JEREMIAH','LAMENTATIONS','EZEKIEL','DANIEL','HOSEA','JOEL','AMOS','OBADIAH','JONAH','MICAH','NAHUM','HABAKKUK','ZEPHANIAH','HAGGAI','ZECHARIAH','MALACHI','MATTHEW','MARK','LUKE','JOHN','ACTS','ROMANS','CORINTHIANS','GALATIANS','EPHESIANS','PHILIPPIANS','COLOSSIANS','THESSALONIANS','TIMOTHY','TITUS','PHILEMON','HEBREWS','JAMES','PETER','JOHN','JUDE','REVELATION']
        init();
        function init(){
            if("w_coin" in localStorage){
                let size = parseInt(localStorage.getItem('w_coin'));
                for(var m = 0; m <= size; m++){
                    w_coin[m].style.color = 'purple';
                }
                if(size >= w_coin.length - 1){
                    // document.write('Game Completed, Congrats you have won a Top Fan Badge, Come back Tomorrow.');
                    if(parseInt(localStorage.getItem('w_coin_time')) < 0){
                        localStorage.removeItem('w_coin_time');
                    }
                    return timerCount();
                }else{
                    setTimeout(()=>{
                        console.log('play2');
                        playNow();
                    }, 1000);
                }
            }else{
                setTimeout(()=>{
                    console.log('play1');
                    playNow();
                }, 1000);
            }
        }
        function timerCount(){
            let timer = 0;
            if("w_coin_time" in localStorage){
                timer = parseInt(localStorage.getItem('w_coin_time'));
            }else{
                timer = 20 // 86400; ---- for firstime run only!!
            }
            var hrs = 0;
            var min = 0;
            var sec = 0;
            startTimer();
            function startTimer(){
                hrs=parseInt(timer/3600);
                min=parseInt(timer/60);
                if(min > 60){
                    hrs = Math.floor(min/60);
                    min = min%60;  
                }
                sec=parseInt(timer%60);
                if(timer < 0){
                    console.log('play3');
                    return playNow();
                }
                timeScr.innerHTML = "<b>" + hrs.toString() + "</b>hrs : <b>" + min.toString() + "</b>mins : <b>" + sec.toString() + "</b>secs";
                timer--;
                localStorage.setItem('w_coin_time', timer);
                setTimeout(()=>{
                    startTimer();
                }, 1000);
            }
        }
        function playNow(){
            if(parseInt(localStorage.getItem('w_coin')) >= 5){
                localStorage.removeItem('w_coin');
                localStorage.removeItem('w_coin_time');
                localStorage.removeItem('w_coin_alphabet');
                localStorage.removeItem('w_coin_alphabet1');
                localStorage.removeItem('w_coin_alphabet2');
                localStorage.removeItem('w_coin_word');
                localStorage.removeItem('w_coin_timestamp');
                for(var f = 0; f < w_coin.length; f++){
                    w_coin[f].style.color = 'black';
                }
            }
            let wordPicked = '';
            if("w_coin_word" in localStorage){
                wordPicked = localStorage.getItem('w_coin_word');
            }else{
                let picked = Math.round(Math.random() * bothBooks.length);
                if(picked == 56){
                    picked -= 1;
                }
                wordPicked = bothBooks[picked];
            }
            function getRandNum(numPick){
                let chk1 = parseInt(Math.round(Math.random() * (numPick.length - 1)));
                let chk2 = parseInt(Math.round(Math.random() * (numPick.length - 1)));
                if(chk1 == chk2){
                    return getRandNum(wordPicked);
                }else{
                    return [Math.min(chk1, chk2), Math.max(chk1, chk2)];
                }
            }
            if(wordPicked.length < 6){
                btn1.style.display = 'block';
                scrShow.style.display = 'block';
                btn2.style.display = 'none';
                btn1.removeAttribute('disabled');
                btn1.selectedIndex = 0;
                let hiddenAlphabet1 = '';
                let hashedWordPicked1 = '';
                if("w_coin_word" in localStorage){
                    hiddenAlphabet1 = localStorage.getItem('w_coin_alphabet');
                    hashedWordPicked1 = localStorage.getItem('w_coin_word');
                }else{
                    let spill = getRandNum(wordPicked);
                    hiddenAlphabet1 = wordPicked.split('')[spill[0]];
                    localStorage.setItem('w_coin_alphabet', hiddenAlphabet1);
                    hashedWordPicked1 = wordPicked.replace(hiddenAlphabet1, '*');
                    localStorage.setItem('w_coin_word', hashedWordPicked1);
                }
                scrShow.innerHTML = hashedWordPicked1;
                let tim = 0;            
                btn1.addEventListener('change', () => {
                    let pick = btn1.options[btn1.selectedIndex].value;
                    scrShow.innerHTML = hashedWordPicked1.replace('*', pick);
                    if(pick == hiddenAlphabet1){
                        tim += 1;
                        if(tim == 1){
                            btn1.setAttribute('disabled','disabled');
                            if("w_coin" in localStorage){
                                localStorage.setItem('w_coin', parseInt(localStorage.getItem('w_coin')) + 1);
                                console.log('1-continue');
                            }else{
                                localStorage.setItem('w_coin', 0);
                                console.log('1-starting');
                            }
                            if(parseInt(localStorage.getItem('w_coin')) != w_coin.length){
                                setTimeout(()=>{
                                    if(parseInt(localStorage.getItem('w_coin')) > 4){
                                        localStorage.setItem('w_coin_timestamp', Math.floor(Date.now() / 1000));
                                        btn1.style.display = 'none';
                                        scrShow.style.display = 'none';    
                                    }
                                    localStorage.removeItem('w_coin_alphabet');
                                    localStorage.removeItem('w_coin_word');
                                    return init();
                                }, 1000);
                            }
                        }
                    }
                });
            }else{
                let correctAns = '';
                let hiddenAlphabet11 = '';
                let hiddenAlphabet22 = '';
                let hashedWordPicked22 = '';
                btn1.style.display = 'block';
                scrShow.style.display = 'block';
                if("w_coin_word" in localStorage){
                    hiddenAlphabet11 = localStorage.getItem('w_coin_alphabet1');
                    hiddenAlphabet22 = localStorage.getItem('w_coin_alphabet2');
                    hashedWordPicked22 = localStorage.getItem('w_coin_word');
                }else{
                    let spilled = getRandNum(wordPicked);
                    hiddenAlphabet11 = wordPicked.split('')[spilled[0]];
                    localStorage.setItem('w_coin_alphabet1', hiddenAlphabet11);
                    hiddenAlphabet22 = wordPicked.split('')[spilled[1]];
                    localStorage.setItem('w_coin_alphabet2', hiddenAlphabet22);
                    let hashedWordPicked11 = wordPicked.replace(hiddenAlphabet11, '*');
                    hashedWordPicked22 = hashedWordPicked11.replace(hiddenAlphabet22, '*');
                    localStorage.setItem('w_coin_word', hashedWordPicked22);
                }
                btn1.removeAttribute('disabled');
                btn2.setAttribute("disabled", "disabled");
                btn2.style.display = 'block';
                scrShow.innerHTML = hashedWordPicked22;   
                btn1.addEventListener('change', () => {
                    let pick = btn1.options[btn1.selectedIndex].value;
                    scrShow.innerHTML = hashedWordPicked22.replace('*', pick);
                    if(pick == hiddenAlphabet11){
                        btn1.setAttribute('disabled','disabled');
                        btn2.removeAttribute('disabled');
                        correctAns = scrShow.innerHTML;
                    }
                });
                btn1.selectedIndex = 0;
                btn2.selectedIndex = 0;
                let timm1 = 0;
                btn2.addEventListener('change', () => {
                    let pick2 = btn2.options[btn2.selectedIndex].value;
                    scrShow.innerHTML = correctAns.replace('*', pick2);
                    if(pick2 == hiddenAlphabet22){
                        timm1 += 1;
                        if(timm1 == 1){
                            btn2.setAttribute('disabled','disabled');
                            if("w_coin" in localStorage){
                                localStorage.setItem('w_coin', parseInt(localStorage.getItem('w_coin')) + 1);
                                console.log('2-continue');
                            }else{
                                localStorage.setItem('w_coin', 0);
                                console.log('2-starting');
                            }
                            if(parseInt(localStorage.getItem('w_coin')) != w_coin.length){
                                setTimeout(()=>{
                                    if(parseInt(localStorage.getItem('w_coin')) > 4){
                                        localStorage.setItem('w_coin', 5);
                                        localStorage.setItem('w_coin_timestamp', Math.floor(Date.now() / 1000));
                                        btn1.style.display = 'none';
                                        btn2.style.display = 'none';
                                        scrShow.style.display = 'none';
                                    }
                                    localStorage.removeItem('w_coin_alphabet1');
                                    localStorage.removeItem('w_coin_alphabet2');
                                    localStorage.removeItem('w_coin_word');
                                    return init();
                                }, 1000);
                            }
                        }
                    }
                });
            }
        }
    </script>
</body>
</html>
